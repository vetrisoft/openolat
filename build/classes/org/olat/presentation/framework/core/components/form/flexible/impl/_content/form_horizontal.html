<div class="b_form b_form_horizontal #if ($off_css_class) $off_css_class #end b_clearfix">
#if ($off_title) <fieldset><legend>$off_title</legend> #end
#if ($off_chelp_package) $r.contextHelpWithWrapper("$off_chelp_package","$off_chelp_page","$off_chelp_hover") #end
#if ($off_desc) <div class="b_form_desc">$off_desc</div> #end
#if ($off_warn) <div class="b_warning">$off_warn</div> #end
#if ($off_info) <div class="b_info">$off_info</div> #end

#foreach ($item in $formitemnames)
#if ($f.isVisible($item))
	#if($f.hasError($item))
	<div class="b_form_element_wrapper b_form_horizontal b_form_error">		
	#else
	<div class="b_form_element_wrapper b_form_horizontal">
	#end
		#if ($f.hasLabel($item))
		<div class="b_form_element_label b_form_horizontal">
			$r.render("${item}_LABEL", "$f.getItemId($item)", "$f.isMandatory($item)")
			#if($f.isMandatory($item))
				<span class="b_form_mandatory" title="$r.translateInAttribute("form.mandatory.hover")">&nbsp;</span>
			#end
		</div>
		#end
		#if ($f.isSpacerElement($item))
			$r.render(${item}, "b_form_horizontal")		
		#else
		<div class="b_form_element b_form_horizontal">
			$r.render(${item})
			#if($f.hasExample($item))
				$r.render("${item}_EXAMPLE")
			#end
			#if($f.hasError($item))
				$r.render("${item}_ERROR")
			#end
		</div>
		#end
	</div>
#end
#end

#if ($off_title) </fieldset> #end
</div>
